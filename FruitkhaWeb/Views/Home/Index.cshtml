@{
    ViewData["Title"] = "Trang chủ";
    var categories = ViewBag.Categories as List<FruitkhaWeb.Models.Category>;
    var latestProducts = ViewBag.LatestProducts as List<FruitkhaWeb.Models.Product>;
    var promotionalProducts = ViewBag.PromotionalProducts as List<FruitkhaWeb.Models.Product>;
}

<!-- hero area -->
<div class="hero-area hero-bg">
	<div class="container">
		<div class="row">
			<div class="col-lg-9 offset-lg-2 text-center">
				<div class="hero-text">
					<div class="hero-text-tablecell">
						<p class="subtitle">Tươi & Hữu cơ</p>
						<h1>Trái cây tươi ngon theo mùa</h1>
						<div class="hero-btns">
							<a asp-controller="Products" asp-action="Index" class="boxed-btn">Bộ sưu tập trái cây</a>
							<a asp-controller="Home" asp-action="Contact" class="bordered-btn">Liên hệ</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- end hero area -->

<!-- features list section -->
<div class="list-section pt-80 pb-80">
	<div class="container">
		<div class="row">
			<div class="col-lg-4 col-md-6 mb-4 mb-lg-0">
				<div class="list-box d-flex align-items-center">
					<div class="list-icon">
						<i class="fas fa-shipping-fast"></i>
					</div>
					<div class="content">
						<h3>Giao hàng miễn phí</h3>
						<p>Khi đơn hàng trên 500,000đ</p>
					</div>
				</div>
			</div>
			<div class="col-lg-4 col-md-6 mb-4 mb-lg-0">
				<div class="list-box d-flex align-items-center">
					<div class="list-icon">
						<i class="fas fa-phone-volume"></i>
					</div>
					<div class="content">
						<h3>Hỗ trợ 24/7</h3>
						<p>Hỗ trợ cả ngày</p>
					</div>
				</div>
			</div>
			<div class="col-lg-4 col-md-6">
				<div class="list-box d-flex justify-content-start align-items-center">
					<div class="list-icon">
						<i class="fas fa-sync"></i>
					</div>
					<div class="content">
						<h3>Hoàn tiền</h3>
						<p>Hoàn tiền trong 3 ngày!</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- end features list section -->

<!-- categories section -->
<div class="product-section mt-80 mb-80">
	<div class="container">
		<div class="row">
			<div class="col-lg-8 offset-lg-2 text-center">
				<div class="section-title">	
					<h3><span class="orange-text">Danh mục</span> Sản phẩm</h3>
					<p>Chúng tôi cung cấp đa dạng các loại trái cây tươi ngon, đảm bảo chất lượng.</p>
				</div>
			</div>
		</div>

		<div class="row">
			@if (categories != null && categories.Any())
			{
				foreach (var category in categories)
				{
					<div class="col-lg-3 col-md-6 mb-4 text-center">
						<div class="single-product-item">
							<h3><a asp-controller="Products" asp-action="Category" asp-route-id="@category.Id">@category.Name</a></h3>
							<p>@category.Description</p>
							<a asp-controller="Products" asp-action="Category" asp-route-id="@category.Id" class="cart-btn"><i class="fas fa-eye"></i> Xem sản phẩm</a>
						</div>
					</div>
				}
			}
		</div>
	</div>
</div>
<!-- end categories section -->

<!-- latest products section -->
@if (latestProducts != null && latestProducts.Any())
{
	<div class="product-section mt-150 mb-150">
		<div class="container">
			<div class="row">
				<div class="col-lg-8 offset-lg-2 text-center">
					<div class="section-title">	
						<h3><span class="orange-text">Sản phẩm</span> Mới nhất</h3>
						<p>Những sản phẩm mới nhất của chúng tôi, tươi ngon và chất lượng cao.</p>
					</div>
				</div>
			</div>

			<div class="row">
				@foreach (var product in latestProducts.Take(6))
				{
					<div class="col-lg-4 col-md-6 text-center mb-4">
						<div class="single-product-item">
							<div class="product-image">
								<a asp-controller="Products" asp-action="Details" asp-route-id="@product.Id">
									<img src="~/@(product.ImageUrl ?? "assets/img/products/product-img-1.jpg")" alt="@product.Name">
								</a>
							</div>
							<h3>@product.Name</h3>
							<p class="product-price">
								@if (product.SalePrice.HasValue)
								{
									<span style="text-decoration: line-through;">@product.Price.ToString("N0")đ</span>
									<span class="orange-text">@product.SalePrice.Value.ToString("N0")đ</span>
								}
								else
								{
									<span>@product.Price.ToString("N0")đ</span>
								}
							</p>
							<a asp-controller="Cart" asp-action="AddToCart" asp-route-id="@product.Id" class="cart-btn"><i class="fas fa-shopping-cart"></i> Thêm vào giỏ</a>
						</div>
					</div>
				}
			</div>
		</div>
	</div>
}
<!-- end latest products section -->

<!-- promotional products section -->
@if (promotionalProducts != null && promotionalProducts.Any())
{
	<div class="product-section mt-150 mb-150" style="background-color: #f5f5f5;">
		<div class="container">
			<div class="row">
				<div class="col-lg-8 offset-lg-2 text-center">
					<div class="section-title">	
						<h3><span class="orange-text">Sản phẩm</span> Khuyến mãi</h3>
						<p>Những sản phẩm đang được khuyến mãi đặc biệt, nhanh tay đặt hàng!</p>
					</div>
				</div>
			</div>

			<div class="row">
				@foreach (var product in promotionalProducts.Take(6))
				{
					<div class="col-lg-4 col-md-6 text-center mb-4">
						<div class="single-product-item">
							<div class="product-image">
								<a asp-controller="Products" asp-action="Details" asp-route-id="@product.Id">
									<img src="~/@(product.ImageUrl ?? "assets/img/products/product-img-1.jpg")" alt="@product.Name">
								</a>
								<span class="badge badge-danger" style="position: absolute; top: 10px; right: 10px;">SALE!</span>
							</div>
							<h3>@product.Name</h3>
							<p class="product-price">
								<span style="text-decoration: line-through; color: #999;">@product.Price.ToString("N0")đ</span>
								<span class="orange-text">@product.SalePrice.Value.ToString("N0")đ</span>
							</p>
							<a asp-controller="Cart" asp-action="AddToCart" asp-route-id="@product.Id" class="cart-btn"><i class="fas fa-shopping-cart"></i> Thêm vào giỏ</a>
						</div>
					</div>
				}
			</div>
		</div>
	</div>
}
<!-- end promotional products section -->
