@model FruitkhaWeb.Models.Order

@{
    ViewData["Title"] = "Chi tiết đơn hàng #" + Model.Id;
}

<!-- breadcrumb -->
<div class="breadcrumb-section breadcrumb-bg">
	<div class="container">
		<div class="row">
			<div class="col-lg-8 offset-lg-2 text-center">
				<div class="breadcrumb-text">
					<p>Đơn hàng</p>
					<h1>Chi tiết đơn hàng #@Model.Id</h1>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- end breadcrumb -->

<!-- order details -->
<div class="checkout-section mt-150 mb-150">
	<div class="container">
		@if (TempData["Success"] != null)
		{
			<div class="alert alert-success alert-dismissible fade show" role="alert">
				@TempData["Success"]
				<button type="button" class="close" data-dismiss="alert" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
		}

		<div class="row">
			<div class="col-lg-12">
				<h3>Thông tin đơn hàng</h3>
				<div class="billing-address-form">
					<p><strong>Mã đơn hàng:</strong> #@Model.Id</p>
					<p><strong>Ngày đặt:</strong> @Model.OrderDate.ToString("dd/MM/yyyy HH:mm")</p>
					<p><strong>Trạng thái:</strong> 
						@switch (Model.Status)
						{
							case "Pending":
								<span class="badge badge-warning">Đang xử lý</span>
								break;
							case "Processing":
								<span class="badge badge-info">Đang giao</span>
								break;
							case "Completed":
								<span class="badge badge-success">Hoàn thành</span>
								break;
							case "Cancelled":
								<span class="badge badge-danger">Đã hủy</span>
								break;
						}
					</p>
					<hr />
					<h4>Thông tin người nhận</h4>
					<p><strong>Tên:</strong> @Model.CustomerName</p>
					<p><strong>Email:</strong> @Model.Email</p>
					<p><strong>Số điện thoại:</strong> @Model.Phone</p>
					<p><strong>Địa chỉ:</strong> @Model.Address</p>
					@if (!string.IsNullOrEmpty(Model.Notes))
					{
						<p><strong>Ghi chú:</strong> @Model.Notes</p>
					}
				</div>
			</div>
		</div>

		<div class="row mt-5">
			<div class="col-lg-12">
				<h3>Sản phẩm đã đặt</h3>
				<div class="cart-table-wrap">
					<table class="cart-table">
						<thead class="cart-table-head">
							<tr class="table-head-row">
								<th class="product-name">Tên sản phẩm</th>
								<th class="product-price">Đơn giá</th>
								<th class="product-quantity">Số lượng</th>
								<th class="product-total">Thành tiền</th>
							</tr>
						</thead>
						<tbody>
							@foreach (var item in Model.OrderItems)
							{
								<tr class="table-body-row">
									<td class="product-name">@item.Product.Name</td>
									<td class="product-price">@item.UnitPrice.ToString("N0")đ</td>
									<td class="product-quantity">@item.Quantity</td>
									<td class="product-total">@item.Subtotal.ToString("N0")đ</td>
								</tr>
							}
							<tr class="total-data">
								<td colspan="3" class="text-right"><strong>Tổng cộng:</strong></td>
								<td><strong class="orange-text">@Model.TotalAmount.ToString("N0")đ</strong></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>

		<div class="row mt-4">
			<div class="col-lg-12 text-center">
				<a asp-action="MyOrders" class="boxed-btn">Xem đơn hàng của tôi</a>
				<a asp-controller="Home" asp-action="Index" class="boxed-btn black">Tiếp tục mua sắm</a>
			</div>
		</div>
	</div>
</div>
<!-- end order details -->
